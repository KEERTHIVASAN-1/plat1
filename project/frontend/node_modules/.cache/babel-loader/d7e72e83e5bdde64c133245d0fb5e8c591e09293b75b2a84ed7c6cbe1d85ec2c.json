{"ast":null,"code":"// src/pages/admin/AdminProblems.js\nimport React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{api}from'../../utils/api';import Navbar from'../../components/Navbar';import{Button}from'../../components/ui/button';import{Card,CardContent}from'../../components/ui/card';import{Table,TableBody,TableCell,TableHead,TableHeader,TableRow}from'../../components/ui/table';import{Badge}from'../../components/ui/badge';import{ArrowLeft,Plus,Edit,Eye,Trash2}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminProblems=()=>{const navigate=useNavigate();const[problems,setProblems]=useState([]);const[loading,setLoading]=useState(false);useEffect(()=>{let mounted=true;const load=async()=>{setLoading(true);try{const{data}=await api.getProblems();const list=(data===null||data===void 0?void 0:data.problems)||data||[];if(mounted)setProblems(list);}catch(err){console.error('Failed to load problems',err);if(mounted)setProblems([]);}finally{if(mounted)setLoading(false);}};load();return()=>{mounted=false;};},[]);const ProblemTable=_ref=>{let{problems}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"rounded-md border\",children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHeader,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableHead,{children:\"ID\"}),/*#__PURE__*/_jsx(TableHead,{children:\"Title\"}),/*#__PURE__*/_jsx(TableHead,{children:\"Difficulty\"}),/*#__PURE__*/_jsx(TableHead,{className:\"text-center\",children:\"Testcases\"}),/*#__PURE__*/_jsx(TableHead,{className:\"text-right\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:problems.map((problem,idx)=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{className:\"font-mono text-sm\",children:problem._id||problem.id}),/*#__PURE__*/_jsx(TableCell,{className:\"font-medium\",children:problem.title}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Badge,{variant:(problem.difficulty||'').toLowerCase()==='easy'?'default':'secondary',children:problem.difficulty||'easy'})}),/*#__PURE__*/_jsx(TableCell,{className:\"text-center\",children:(problem.testcases||[]).length}),/*#__PURE__*/_jsxs(TableCell,{className:\"text-right space-x-2\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"outline\",size:\"sm\",onClick:()=>navigate(\"/admin/problems/view/\".concat(problem._id||problem.id)),children:[/*#__PURE__*/_jsx(Eye,{className:\"h-4 w-4 mr-1\"}),\"View\"]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline\",size:\"sm\",onClick:()=>navigate(\"/admin/problems/edit/\".concat(problem._id||problem.id)),children:[/*#__PURE__*/_jsx(Edit,{className:\"h-4 w-4 mr-1\"}),\"Edit\"]}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",onClick:()=>console.warn('delete not implemented'),children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})})]})]},problem._id||problem.id||idx))})]})});};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto p-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"outline\",onClick:()=>navigate('/admin'),children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"h-4 w-4 mr-2\"}),\"Back\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",children:\"Problems Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"Manage contest problems and testcases\"})]})]}),/*#__PURE__*/_jsxs(Button,{onClick:()=>navigate('/admin/problems/add'),children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4 mr-2\"}),\"Add Problem\"]})]}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{className:\"pt-6\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:\"Loading problems...\"}):/*#__PURE__*/_jsx(ProblemTable,{problems:problems})})})]})]});};export default AdminProblems;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","api","Navbar","Button","Card","CardContent","Table","TableBody","TableCell","TableHead","TableHeader","TableRow","Badge","ArrowLeft","Plus","Edit","Eye","Trash2","jsx","_jsx","jsxs","_jsxs","AdminProblems","navigate","problems","setProblems","loading","setLoading","mounted","load","data","getProblems","list","err","console","error","ProblemTable","_ref","className","children","map","problem","idx","_id","id","title","variant","difficulty","toLowerCase","testcases","length","size","onClick","concat","warn"],"sources":["D:/plat1/project/frontend/src/pages/admin/AdminProblems.js"],"sourcesContent":["// src/pages/admin/AdminProblems.js\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { api } from '../../utils/api';\nimport Navbar from '../../components/Navbar';\nimport { Button } from '../../components/ui/button';\nimport { Card, CardContent } from '../../components/ui/card';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '../../components/ui/table';\nimport { Badge } from '../../components/ui/badge';\nimport { ArrowLeft, Plus, Edit, Eye, Trash2 } from 'lucide-react';\n\nconst AdminProblems = () => {\n  const navigate = useNavigate();\n  const [problems, setProblems] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    let mounted = true;\n    const load = async () => {\n      setLoading(true);\n      try {\n        const { data } = await api.getProblems();\n        const list = data?.problems || data || [];\n        if (mounted) setProblems(list);\n      } catch (err) {\n        console.error('Failed to load problems', err);\n        if (mounted) setProblems([]);\n      } finally {\n        if (mounted) setLoading(false);\n      }\n    };\n    load();\n    return () => { mounted = false; };\n  }, []);\n\n  const ProblemTable = ({ problems }) => (\n    <div className=\"rounded-md border\">\n      <Table>\n        <TableHeader>\n          <TableRow>\n            <TableHead>ID</TableHead>\n            <TableHead>Title</TableHead>\n            <TableHead>Difficulty</TableHead>\n            <TableHead className=\"text-center\">Testcases</TableHead>\n            <TableHead className=\"text-right\">Actions</TableHead>\n          </TableRow>\n        </TableHeader>\n        <TableBody>\n          {problems.map((problem, idx) => (\n            <TableRow key={problem._id || problem.id || idx}>\n              <TableCell className=\"font-mono text-sm\">{problem._id || problem.id}</TableCell>\n              <TableCell className=\"font-medium\">{problem.title}</TableCell>\n              <TableCell>\n                <Badge variant={(problem.difficulty || '').toLowerCase() === 'easy' ? 'default' : 'secondary'}>\n                  {problem.difficulty || 'easy'}\n                </Badge>\n              </TableCell>\n              <TableCell className=\"text-center\">{(problem.testcases || []).length}</TableCell>\n              <TableCell className=\"text-right space-x-2\">\n                <Button variant=\"outline\" size=\"sm\" onClick={() => navigate(`/admin/problems/view/${problem._id || problem.id}`)}>\n                  <Eye className=\"h-4 w-4 mr-1\" />View\n                </Button>\n                <Button variant=\"outline\" size=\"sm\" onClick={() => navigate(`/admin/problems/edit/${problem._id || problem.id}`)}>\n                  <Edit className=\"h-4 w-4 mr-1\" />Edit\n                </Button>\n                <Button variant=\"outline\" size=\"sm\" onClick={() => console.warn('delete not implemented')}>\n                  <Trash2 className=\"h-4 w-4\" />\n                </Button>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </div>\n  );\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navbar />\n      <div className=\"max-w-7xl mx-auto p-6 space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <Button variant=\"outline\" onClick={() => navigate('/admin')}>\n              <ArrowLeft className=\"h-4 w-4 mr-2\" />Back\n            </Button>\n            <div>\n              <h1 className=\"text-2xl font-bold\">Problems Management</h1>\n              <p className=\"text-gray-600 text-sm\">Manage contest problems and testcases</p>\n            </div>\n          </div>\n          <Button onClick={() => navigate('/admin/problems/add')}>\n            <Plus className=\"h-4 w-4 mr-2\" />Add Problem\n          </Button>\n        </div>\n\n        <Card>\n          <CardContent className=\"pt-6\">\n            {loading ? <div className=\"text-sm text-gray-500\">Loading problems...</div> : <ProblemTable problems={problems} />}\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminProblems;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}