{"ast":null,"code":"var _jsxFileName = \"D:\\\\plat1\\\\project\\\\frontend\\\\src\\\\pages\\\\CodingPage.js\",\n  _s = $RefreshSig$();\n// src/pages/CodingPage.js\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useContest } from '../contexts/ContestContext';\nimport CodeEditor from '../components/CodeEditor';\nimport TestcaseResults from '../components/TestcaseResults';\nimport Timer from '../components/Timer';\nimport { Button } from '../components/ui/button';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '../components/ui/select';\nimport { Textarea } from '../components/ui/textarea';\nimport { ScrollArea } from '../components/ui/scroll-area';\nimport { Badge } from '../components/ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../components/ui/tabs';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '../components/ui/dialog';\nimport { toast } from '../hooks/use-toast';\nimport { Code2, Play, Send, AlertCircle } from 'lucide-react';\nimport { languageOptions } from '../mock';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CodingPage = () => {\n  _s();\n  var _roundData$problems, _roundData$problems$, _roundData$problems2, _roundData$problems2$;\n  const {\n    roundId\n  } = useParams();\n  const {\n    user\n  } = useAuth();\n  const {\n    getRoundInfo,\n    runCode,\n    submitCode\n  } = useContest();\n  const navigate = useNavigate();\n  const roundData = getRoundInfo(roundId);\n  const [problems, setProblems] = useState((roundData === null || roundData === void 0 ? void 0 : roundData.problems) || []);\n  const [loadingProblems, setLoadingProblems] = useState(false);\n  const [selectedProblemId, setSelectedProblemId] = useState((roundData === null || roundData === void 0 ? void 0 : (_roundData$problems = roundData.problems) === null || _roundData$problems === void 0 ? void 0 : (_roundData$problems$ = _roundData$problems[0]) === null || _roundData$problems$ === void 0 ? void 0 : _roundData$problems$._id) || (roundData === null || roundData === void 0 ? void 0 : (_roundData$problems2 = roundData.problems) === null || _roundData$problems2 === void 0 ? void 0 : (_roundData$problems2$ = _roundData$problems2[0]) === null || _roundData$problems2$ === void 0 ? void 0 : _roundData$problems2$.id) || null);\n  const [language, setLanguage] = useState('python');\n  const [code, setCode] = useState(languageOptions[0].template);\n  const [customInput, setCustomInput] = useState('');\n  const [runOutput, setRunOutput] = useState('');\n  const [testcaseResults, setTestcaseResults] = useState([]);\n  const [isRunning, setIsRunning] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [timeExpired, setTimeExpired] = useState(false);\n  const [showTimeUpModal, setShowTimeUpModal] = useState(false);\n  const problemsRef = useRef(problems);\n\n  // Fetch latest problems from backend (contest context also attempts bootstrap but page-level fetch is safer)\n  useEffect(() => {\n    let mounted = true;\n    const fetchProblems = async () => {\n      setLoadingProblems(true);\n      try {\n        const url = `${process.env.REACT_APP_BACKEND_URL || 'http://localhost:8000'}/problems`;\n        const res = await fetch(url);\n        if (!res.ok) {\n          console.warn('Fetch /problems failed', res.status);\n          return;\n        }\n        const data = await res.json();\n        const list = (data === null || data === void 0 ? void 0 : data.problems) || data || [];\n        if (mounted) {\n          setProblems(list);\n          problemsRef.current = list;\n          if (!selectedProblemId && list.length > 0) {\n            setSelectedProblemId(list[0]._id || list[0].id);\n          }\n        }\n      } catch (err) {\n        console.error('Error loading problems:', err);\n        // fallback: keep existing roundData problems\n      } finally {\n        if (mounted) setLoadingProblems(false);\n      }\n    };\n    fetchProblems();\n    return () => {\n      mounted = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [roundId]);\n  useEffect(() => {\n    // If round missing or not active, redirect to dashboard\n    if (!roundData || roundData.status !== 'active') {\n      navigate('/dashboard');\n    }\n  }, [roundData, navigate]);\n\n  // If language changes update template if user hasn't typed code yet.\n  useEffect(() => {\n    var _languageOptions$find;\n    const template = (_languageOptions$find = languageOptions.find(l => l.value === language)) === null || _languageOptions$find === void 0 ? void 0 : _languageOptions$find.template;\n    // Only set template if code equals previous language template or empty\n    if (!code || languageOptions.some(l => l.template === code)) {\n      setCode(template || '');\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [language]);\n  const handleTimeUp = () => {\n    setTimeExpired(true);\n    setShowTimeUpModal(true);\n  };\n  const handleRun = async () => {\n    setIsRunning(true);\n    setRunOutput('Running...');\n    try {\n      const res = await runCode(code, language, customInput);\n      if (res && res.success) {\n        var _res$executionTime;\n        setRunOutput(res.output || 'No output');\n        toast({\n          title: 'Run finished',\n          description: `Execution time: ${(_res$executionTime = res.executionTime) !== null && _res$executionTime !== void 0 ? _res$executionTime : 'N/A'}ms`\n        });\n      } else {\n        setRunOutput((res === null || res === void 0 ? void 0 : res.output) || 'Execution failed');\n      }\n    } catch (err) {\n      console.error('Run error', err);\n      setRunOutput('Error: ' + (err.message || err));\n      toast({\n        title: 'Run error',\n        description: err.message || 'See console',\n        variant: 'destructive'\n      });\n    }\n    setIsRunning(false);\n  };\n  const handleSubmit = async () => {\n    if (!(user !== null && user !== void 0 && user.id)) {\n      toast({\n        title: 'Not logged in',\n        description: 'Please login to submit',\n        variant: 'destructive'\n      });\n      return;\n    }\n    const currentProblem = problems && problems.length ? problems.find(p => (p._id || p.id) === selectedProblemId) || problems[0] : null;\n    if (!currentProblem) {\n      toast({\n        title: 'No problem selected',\n        variant: 'destructive'\n      });\n      return;\n    }\n    setIsSubmitting(true);\n    try {\n      const result = await submitCode(user.id, currentProblem._id || currentProblem.id, code, language, roundId);\n      if (!result || !result.success) {\n        throw new Error((result === null || result === void 0 ? void 0 : result.message) || 'Submission failed');\n      }\n\n      // fetch latest submissions for user and extract testcase results\n      const submissionsUrl = `${process.env.REACT_APP_BACKEND_URL || 'http://localhost:8000'}/submissions/${user.id}`;\n      const sres = await fetch(submissionsUrl);\n      const subs = sres.ok ? await sres.json() : [];\n      const latest = Array.isArray(subs) ? subs[0] : subs || null;\n      const results = (latest === null || latest === void 0 ? void 0 : latest.results) || (latest === null || latest === void 0 ? void 0 : latest.testcaseResults) || [];\n      setTestcaseResults(results);\n      const passed = results.filter(r => r.passed).length;\n      toast({\n        title: 'Submission complete',\n        description: `Passed ${passed}/${results.length}`\n      });\n    } catch (err) {\n      console.error('Submit error', err);\n      toast({\n        title: 'Submit failed',\n        description: err.message || 'See console',\n        variant: 'destructive'\n      });\n    }\n    setIsSubmitting(false);\n  };\n  if (!roundData || !selectedProblemId && !loadingProblems) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this);\n  }\n  const currentProblem = problems && problems.length ? problems.find(p => (p._id || p.id) === selectedProblemId) || problems[0] : null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen flex flex-col bg-gray-50 overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border-b px-4 py-3 flex items-center justify-between shadow-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(Code2, {\n          className: \"h-6 w-6 text-blue-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"font-bold text-lg\",\n            children: (roundData === null || roundData === void 0 ? void 0 : roundData.name) || 'Round'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-600\",\n            children: (user === null || user === void 0 ? void 0 : user.name) || 'Guest'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(Timer, {\n          startTime: roundData === null || roundData === void 0 ? void 0 : roundData.startTime,\n          duration: roundData === null || roundData === void 0 ? void 0 : roundData.duration,\n          onTimeUp: handleTimeUp\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleSubmit,\n          disabled: isSubmitting || timeExpired,\n          className: \"bg-green-600 hover:bg-green-700\",\n          children: [/*#__PURE__*/_jsxDEV(Send, {\n            className: \"h-4 w-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), isSubmitting ? 'Submitting...' : 'Submit']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline\",\n          onClick: () => navigate('/dashboard'),\n          children: \"Exit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/4 border-r bg-white flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border-b\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"font-semibold text-sm text-gray-600 mb-2\",\n            children: \"Problems\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: loadingProblems ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Loading problems...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 17\n            }, this) : problems && problems.length ? problems.map((problem, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSelectedProblemId(problem._id || problem.id),\n              className: `w-full text-left p-2 rounded-lg transition-colors ${currentProblem && (currentProblem._id || currentProblem.id) === (problem._id || problem.id) ? 'bg-blue-100 border border-blue-300' : 'bg-gray-50 hover:bg-gray-100'}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium\",\n                  children: [idx + 1, \". \", problem.title]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                  variant: problem.difficulty && problem.difficulty.toLowerCase() === 'easy' ? 'default' : 'secondary',\n                  children: problem.difficulty || 'easy'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 21\n              }, this)\n            }, problem._id || problem.id || idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 19\n            }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500\",\n              children: \"No problems found.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ScrollArea, {\n          className: \"flex-1 p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"prose prose-sm max-w-none\",\n            children: currentProblem ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-bold mb-2\",\n                children: currentProblem.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                className: \"mb-4\",\n                children: currentProblem.difficulty || 'easy'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"whitespace-pre-wrap text-sm text-gray-700\",\n                children: currentProblem.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Select a problem to view details.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 flex flex-col bg-gray-900\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-800 px-4 py-2 flex items-center justify-between border-b border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-white text-sm font-medium\",\n              children: \"Code Editor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: language,\n              onValueChange: setLanguage,\n              disabled: timeExpired,\n              children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                className: \"w-40 bg-gray-700 text-white border-gray-600\",\n                children: /*#__PURE__*/_jsxDEV(SelectValue, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                children: languageOptions.map(lang => /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: lang.value,\n                  children: lang.label\n                }, lang.value, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 48\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this), timeExpired && /*#__PURE__*/_jsxDEV(Badge, {\n            variant: \"destructive\",\n            className: \"animate-pulse\",\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              className: \"h-3 w-3 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 84\n            }, this), \"Time Expired\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: /*#__PURE__*/_jsxDEV(CodeEditor, {\n            value: code,\n            onChange: setCode,\n            language: language,\n            readOnly: timeExpired\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-800 border-t p-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-xs text-gray-400 mb-1 block\",\n                children: \"Custom Input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n                value: customInput,\n                onChange: e => setCustomInput(e.target.value),\n                placeholder: \"Enter custom input here...\",\n                className: \"bg-gray-700 text-white border-gray-600 h-20 text-sm font-mono\",\n                disabled: timeExpired\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-xs text-gray-400 mb-1 block\",\n                children: \"Output\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-700 text-white rounded-md p-2 h-20 overflow-auto text-sm font-mono whitespace-pre-wrap\",\n                children: runOutput || 'Click Run to see output'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleRun,\n              disabled: isRunning || timeExpired,\n              variant: \"secondary\",\n              className: \"mt-5\",\n              children: [/*#__PURE__*/_jsxDEV(Play, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 17\n              }, this), isRunning ? 'Running...' : 'Run']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/4 border-l bg-white flex flex-col\",\n        children: /*#__PURE__*/_jsxDEV(Tabs, {\n          defaultValue: \"testcases\",\n          className: \"flex-1 flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(TabsList, {\n            className: \"w-full rounded-none border-b\",\n            children: /*#__PURE__*/_jsxDEV(TabsTrigger, {\n              value: \"testcases\",\n              className: \"flex-1\",\n              children: \"Testcase Results\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n            value: \"testcases\",\n            className: \"flex-1 m-0 p-4\",\n            children: /*#__PURE__*/_jsxDEV(TestcaseResults, {\n              results: testcaseResults\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showTimeUpModal,\n      onOpenChange: setShowTimeUpModal,\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            className: \"flex items-center space-x-2 text-red-600\",\n            children: \"Time's Up!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: \"The round has ended. Your editor is locked and you can no longer submit code.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end space-x-2 p-4\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: () => navigate('/dashboard'),\n            children: \"Go to Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setShowTimeUpModal(false),\n            children: \"Review Code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 5\n  }, this);\n};\n_s(CodingPage, \"oif6yZd9HiYObDufLdPA3M/zSLg=\", false, function () {\n  return [useParams, useAuth, useContest, useNavigate];\n});\n_c = CodingPage;\nexport default CodingPage;\nvar _c;\n$RefreshReg$(_c, \"CodingPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","useNavigate","useAuth","useContest","CodeEditor","TestcaseResults","Timer","Button","Select","SelectContent","SelectItem","SelectTrigger","SelectValue","Textarea","ScrollArea","Badge","Tabs","TabsContent","TabsList","TabsTrigger","Dialog","DialogContent","DialogHeader","DialogTitle","toast","Code2","Play","Send","AlertCircle","languageOptions","jsxDEV","_jsxDEV","Fragment","_Fragment","CodingPage","_s","_roundData$problems","_roundData$problems$","_roundData$problems2","_roundData$problems2$","roundId","user","getRoundInfo","runCode","submitCode","navigate","roundData","problems","setProblems","loadingProblems","setLoadingProblems","selectedProblemId","setSelectedProblemId","_id","id","language","setLanguage","code","setCode","template","customInput","setCustomInput","runOutput","setRunOutput","testcaseResults","setTestcaseResults","isRunning","setIsRunning","isSubmitting","setIsSubmitting","timeExpired","setTimeExpired","showTimeUpModal","setShowTimeUpModal","problemsRef","mounted","fetchProblems","url","process","env","REACT_APP_BACKEND_URL","res","fetch","ok","console","warn","status","data","json","list","current","length","err","error","_languageOptions$find","find","l","value","some","handleTimeUp","handleRun","success","_res$executionTime","output","title","description","executionTime","message","variant","handleSubmit","currentProblem","p","result","Error","submissionsUrl","sres","subs","latest","Array","isArray","results","passed","filter","r","className","children","fileName","_jsxFileName","lineNumber","columnNumber","name","startTime","duration","onTimeUp","onClick","disabled","map","problem","idx","difficulty","toLowerCase","onValueChange","lang","label","onChange","readOnly","e","target","placeholder","defaultValue","open","onOpenChange","_c","$RefreshReg$"],"sources":["D:/plat1/project/frontend/src/pages/CodingPage.js"],"sourcesContent":["// src/pages/CodingPage.js\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useContest } from '../contexts/ContestContext';\nimport CodeEditor from '../components/CodeEditor';\nimport TestcaseResults from '../components/TestcaseResults';\nimport Timer from '../components/Timer';\nimport { Button } from '../components/ui/button';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '../components/ui/select';\nimport { Textarea } from '../components/ui/textarea';\nimport { ScrollArea } from '../components/ui/scroll-area';\nimport { Badge } from '../components/ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../components/ui/tabs';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '../components/ui/dialog';\nimport { toast } from '../hooks/use-toast';\nimport { Code2, Play, Send, AlertCircle } from 'lucide-react';\nimport { languageOptions } from '../mock';\n\nconst CodingPage = () => {\n  const { roundId } = useParams();\n  const { user } = useAuth();\n  const { getRoundInfo, runCode, submitCode } = useContest();\n  const navigate = useNavigate();\n\n  const roundData = getRoundInfo(roundId);\n  const [problems, setProblems] = useState(roundData?.problems || []);\n  const [loadingProblems, setLoadingProblems] = useState(false);\n  const [selectedProblemId, setSelectedProblemId] = useState(\n    (roundData?.problems?.[0]?._id) || (roundData?.problems?.[0]?.id) || null\n  );\n  const [language, setLanguage] = useState('python');\n  const [code, setCode] = useState(languageOptions[0].template);\n  const [customInput, setCustomInput] = useState('');\n  const [runOutput, setRunOutput] = useState('');\n  const [testcaseResults, setTestcaseResults] = useState([]);\n  const [isRunning, setIsRunning] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [timeExpired, setTimeExpired] = useState(false);\n  const [showTimeUpModal, setShowTimeUpModal] = useState(false);\n\n  const problemsRef = useRef(problems);\n\n  // Fetch latest problems from backend (contest context also attempts bootstrap but page-level fetch is safer)\n  useEffect(() => {\n    let mounted = true;\n    const fetchProblems = async () => {\n      setLoadingProblems(true);\n      try {\n        const url = `${process.env.REACT_APP_BACKEND_URL || 'http://localhost:8000'}/problems`;\n        const res = await fetch(url);\n        if (!res.ok) {\n          console.warn('Fetch /problems failed', res.status);\n          return;\n        }\n        const data = await res.json();\n        const list = data?.problems || data || [];\n        if (mounted) {\n          setProblems(list);\n          problemsRef.current = list;\n          if (!selectedProblemId && list.length > 0) {\n            setSelectedProblemId(list[0]._id || list[0].id);\n          }\n        }\n      } catch (err) {\n        console.error('Error loading problems:', err);\n        // fallback: keep existing roundData problems\n      } finally {\n        if (mounted) setLoadingProblems(false);\n      }\n    };\n    fetchProblems();\n    return () => { mounted = false; };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [roundId]);\n\n  useEffect(() => {\n    // If round missing or not active, redirect to dashboard\n    if (!roundData || roundData.status !== 'active') {\n      navigate('/dashboard');\n    }\n  }, [roundData, navigate]);\n\n  // If language changes update template if user hasn't typed code yet.\n  useEffect(() => {\n    const template = languageOptions.find(l => l.value === language)?.template;\n    // Only set template if code equals previous language template or empty\n    if (!code || languageOptions.some(l => l.template === code)) {\n      setCode(template || '');\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [language]);\n\n  const handleTimeUp = () => {\n    setTimeExpired(true);\n    setShowTimeUpModal(true);\n  };\n\n  const handleRun = async () => {\n    setIsRunning(true);\n    setRunOutput('Running...');\n    try {\n      const res = await runCode(code, language, customInput);\n      if (res && res.success) {\n        setRunOutput(res.output || 'No output');\n        toast({\n          title: 'Run finished',\n          description: `Execution time: ${res.executionTime ?? 'N/A'}ms`\n        });\n      } else {\n        setRunOutput(res?.output || 'Execution failed');\n      }\n    } catch (err) {\n      console.error('Run error', err);\n      setRunOutput('Error: ' + (err.message || err));\n      toast({ title: 'Run error', description: (err.message || 'See console'), variant: 'destructive' });\n    }\n    setIsRunning(false);\n  };\n\n  const handleSubmit = async () => {\n    if (!user?.id) {\n      toast({ title: 'Not logged in', description: 'Please login to submit', variant: 'destructive' });\n      return;\n    }\n    const currentProblem = (problems && problems.length)\n      ? problems.find(p => (p._id || p.id) === selectedProblemId) || problems[0]\n      : null;\n    if (!currentProblem) {\n      toast({ title: 'No problem selected', variant: 'destructive' });\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      const result = await submitCode(user.id, (currentProblem._id || currentProblem.id), code, language, roundId);\n      if (!result || !result.success) {\n        throw new Error(result?.message || 'Submission failed');\n      }\n\n      // fetch latest submissions for user and extract testcase results\n      const submissionsUrl = `${process.env.REACT_APP_BACKEND_URL || 'http://localhost:8000'}/submissions/${user.id}`;\n      const sres = await fetch(submissionsUrl);\n      const subs = sres.ok ? await sres.json() : [];\n      const latest = Array.isArray(subs) ? subs[0] : (subs || null);\n      const results = latest?.results || latest?.testcaseResults || [];\n      setTestcaseResults(results);\n      const passed = results.filter(r => r.passed).length;\n      toast({ title: 'Submission complete', description: `Passed ${passed}/${results.length}` });\n    } catch (err) {\n      console.error('Submit error', err);\n      toast({ title: 'Submit failed', description: (err.message || 'See console'), variant: 'destructive' });\n    }\n    setIsSubmitting(false);\n  };\n\n  if (!roundData || (!selectedProblemId && !loadingProblems)) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\" />\n      </div>\n    );\n  }\n\n  const currentProblem = (problems && problems.length)\n    ? problems.find(p => (p._id || p.id) === selectedProblemId) || problems[0]\n    : null;\n\n  return (\n    <div className=\"h-screen flex flex-col bg-gray-50 overflow-hidden\">\n      <div className=\"bg-white border-b px-4 py-3 flex items-center justify-between shadow-sm\">\n        <div className=\"flex items-center space-x-4\">\n          <Code2 className=\"h-6 w-6 text-blue-600\" />\n          <div>\n            <h1 className=\"font-bold text-lg\">{roundData?.name || 'Round'}</h1>\n            <p className=\"text-xs text-gray-600\">{user?.name || 'Guest'}</p>\n          </div>\n        </div>\n\n        <div className=\"flex items-center space-x-4\">\n          <Timer startTime={roundData?.startTime} duration={roundData?.duration} onTimeUp={handleTimeUp} />\n          <Button onClick={handleSubmit} disabled={isSubmitting || timeExpired} className=\"bg-green-600 hover:bg-green-700\">\n            <Send className=\"h-4 w-4 mr-2\" />{isSubmitting ? 'Submitting...' : 'Submit'}\n          </Button>\n          <Button variant=\"outline\" onClick={() => navigate('/dashboard')}>Exit</Button>\n        </div>\n      </div>\n\n      <div className=\"flex-1 flex overflow-hidden\">\n        <div className=\"w-1/4 border-r bg-white flex flex-col\">\n          <div className=\"p-4 border-b\">\n            <h2 className=\"font-semibold text-sm text-gray-600 mb-2\">Problems</h2>\n            <div className=\"space-y-2\">\n              {loadingProblems ? (\n                <div className=\"text-sm text-gray-500\">Loading problems...</div>\n              ) : problems && problems.length ? (\n                problems.map((problem, idx) => (\n                  <button key={problem._id || problem.id || idx}\n                    onClick={() => setSelectedProblemId(problem._id || problem.id)}\n                    className={`w-full text-left p-2 rounded-lg transition-colors ${\n                      (currentProblem && (currentProblem._id || currentProblem.id) === (problem._id || problem.id))\n                        ? 'bg-blue-100 border border-blue-300' : 'bg-gray-50 hover:bg-gray-100'}`}>\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-sm font-medium\">{idx + 1}. {problem.title}</span>\n                      <Badge variant={problem.difficulty && problem.difficulty.toLowerCase() === 'easy' ? 'default' : 'secondary'}>\n                        {problem.difficulty || 'easy'}\n                      </Badge>\n                    </div>\n                  </button>\n                ))\n              ) : <div className=\"text-sm text-gray-500\">No problems found.</div>}\n            </div>\n          </div>\n\n          <ScrollArea className=\"flex-1 p-4\">\n            <div className=\"prose prose-sm max-w-none\">\n              {currentProblem ? (\n                <>\n                  <h3 className=\"text-lg font-bold mb-2\">{currentProblem.title}</h3>\n                  <Badge className=\"mb-4\">{currentProblem.difficulty || 'easy'}</Badge>\n                  <div className=\"whitespace-pre-wrap text-sm text-gray-700\">{currentProblem.description}</div>\n                </>\n              ) : <div className=\"text-sm text-gray-500\">Select a problem to view details.</div>}\n            </div>\n          </ScrollArea>\n        </div>\n\n        <div className=\"flex-1 flex flex-col bg-gray-900\">\n          <div className=\"bg-gray-800 px-4 py-2 flex items-center justify-between border-b border-gray-700\">\n            <div className=\"flex items-center space-x-4\">\n              <span className=\"text-white text-sm font-medium\">Code Editor</span>\n              <Select value={language} onValueChange={setLanguage} disabled={timeExpired}>\n                <SelectTrigger className=\"w-40 bg-gray-700 text-white border-gray-600\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  {languageOptions.map(lang => <SelectItem key={lang.value} value={lang.value}>{lang.label}</SelectItem>)}\n                </SelectContent>\n              </Select>\n            </div>\n            {timeExpired && <Badge variant=\"destructive\" className=\"animate-pulse\"><AlertCircle className=\"h-3 w-3 mr-1\" />Time Expired</Badge>}\n          </div>\n\n          <div className=\"flex-1\">\n            <CodeEditor value={code} onChange={setCode} language={language} readOnly={timeExpired} />\n          </div>\n\n          <div className=\"bg-gray-800 border-t p-3\">\n            <div className=\"flex items-start space-x-3\">\n              <div className=\"flex-1\">\n                <label className=\"text-xs text-gray-400 mb-1 block\">Custom Input</label>\n                <Textarea value={customInput} onChange={(e) => setCustomInput(e.target.value)} placeholder=\"Enter custom input here...\" className=\"bg-gray-700 text-white border-gray-600 h-20 text-sm font-mono\" disabled={timeExpired} />\n              </div>\n              <div className=\"flex-1\">\n                <label className=\"text-xs text-gray-400 mb-1 block\">Output</label>\n                <div className=\"bg-gray-700 text-white rounded-md p-2 h-20 overflow-auto text-sm font-mono whitespace-pre-wrap\">{runOutput || 'Click Run to see output'}</div>\n              </div>\n              <Button onClick={handleRun} disabled={isRunning || timeExpired} variant=\"secondary\" className=\"mt-5\">\n                <Play className=\"h-4 w-4 mr-2\" />{isRunning ? 'Running...' : 'Run'}\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"w-1/4 border-l bg-white flex flex-col\">\n          <Tabs defaultValue=\"testcases\" className=\"flex-1 flex flex-col\">\n            <TabsList className=\"w-full rounded-none border-b\">\n              <TabsTrigger value=\"testcases\" className=\"flex-1\">Testcase Results</TabsTrigger>\n            </TabsList>\n            <TabsContent value=\"testcases\" className=\"flex-1 m-0 p-4\">\n              <TestcaseResults results={testcaseResults} />\n            </TabsContent>\n          </Tabs>\n        </div>\n      </div>\n\n      <Dialog open={showTimeUpModal} onOpenChange={setShowTimeUpModal}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center space-x-2 text-red-600\">Time's Up!</DialogTitle>\n            <div className=\"mb-4\">The round has ended. Your editor is locked and you can no longer submit code.</div>\n          </DialogHeader>\n          <div className=\"flex justify-end space-x-2 p-4\">\n            <Button variant=\"outline\" onClick={() => navigate('/dashboard')}>Go to Dashboard</Button>\n            <Button onClick={() => setShowTimeUpModal(false)}>Review Code</Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default CodingPage;\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,SAASC,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AACzD,SAASC,OAAO,QAAQ,yBAAyB;AACjD,SAASC,UAAU,QAAQ,4BAA4B;AACvD,OAAOC,UAAU,MAAM,0BAA0B;AACjD,OAAOC,eAAe,MAAM,+BAA+B;AAC3D,OAAOC,KAAK,MAAM,qBAAqB;AACvC,SAASC,MAAM,QAAQ,yBAAyB;AAChD,SAASC,MAAM,EAAEC,aAAa,EAAEC,UAAU,EAAEC,aAAa,EAAEC,WAAW,QAAQ,yBAAyB;AACvG,SAASC,QAAQ,QAAQ,2BAA2B;AACpD,SAASC,UAAU,QAAQ,8BAA8B;AACzD,SAASC,KAAK,QAAQ,wBAAwB;AAC9C,SAASC,IAAI,EAAEC,WAAW,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,uBAAuB;AAChF,SAASC,MAAM,EAAEC,aAAa,EAAEC,YAAY,EAAEC,WAAW,QAAQ,yBAAyB;AAC1F,SAASC,KAAK,QAAQ,oBAAoB;AAC1C,SAASC,KAAK,EAAEC,IAAI,EAAEC,IAAI,EAAEC,WAAW,QAAQ,cAAc;AAC7D,SAASC,eAAe,QAAQ,SAAS;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE1C,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,mBAAA,EAAAC,oBAAA,EAAAC,oBAAA,EAAAC,qBAAA;EACvB,MAAM;IAAEC;EAAQ,CAAC,GAAGxC,SAAS,CAAC,CAAC;EAC/B,MAAM;IAAEyC;EAAK,CAAC,GAAGvC,OAAO,CAAC,CAAC;EAC1B,MAAM;IAAEwC,YAAY;IAAEC,OAAO;IAAEC;EAAW,CAAC,GAAGzC,UAAU,CAAC,CAAC;EAC1D,MAAM0C,QAAQ,GAAG5C,WAAW,CAAC,CAAC;EAE9B,MAAM6C,SAAS,GAAGJ,YAAY,CAACF,OAAO,CAAC;EACvC,MAAM,CAACO,QAAQ,EAAEC,WAAW,CAAC,GAAGnD,QAAQ,CAAC,CAAAiD,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEC,QAAQ,KAAI,EAAE,CAAC;EACnE,MAAM,CAACE,eAAe,EAAEC,kBAAkB,CAAC,GAAGrD,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACsD,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGvD,QAAQ,CACxD,CAACiD,SAAS,aAATA,SAAS,wBAAAV,mBAAA,GAATU,SAAS,CAAEC,QAAQ,cAAAX,mBAAA,wBAAAC,oBAAA,GAAnBD,mBAAA,CAAsB,CAAC,CAAC,cAAAC,oBAAA,uBAAxBA,oBAAA,CAA0BgB,GAAG,MAAMP,SAAS,aAATA,SAAS,wBAAAR,oBAAA,GAATQ,SAAS,CAAEC,QAAQ,cAAAT,oBAAA,wBAAAC,qBAAA,GAAnBD,oBAAA,CAAsB,CAAC,CAAC,cAAAC,qBAAA,uBAAxBA,qBAAA,CAA0Be,EAAE,CAAC,IAAI,IACvE,CAAC;EACD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAG3D,QAAQ,CAAC,QAAQ,CAAC;EAClD,MAAM,CAAC4D,IAAI,EAAEC,OAAO,CAAC,GAAG7D,QAAQ,CAACgC,eAAe,CAAC,CAAC,CAAC,CAAC8B,QAAQ,CAAC;EAC7D,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGhE,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACiE,SAAS,EAAEC,YAAY,CAAC,GAAGlE,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACmE,eAAe,EAAEC,kBAAkB,CAAC,GAAGpE,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACqE,SAAS,EAAEC,YAAY,CAAC,GAAGtE,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACuE,YAAY,EAAEC,eAAe,CAAC,GAAGxE,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACyE,WAAW,EAAEC,cAAc,CAAC,GAAG1E,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAAC2E,eAAe,EAAEC,kBAAkB,CAAC,GAAG5E,QAAQ,CAAC,KAAK,CAAC;EAE7D,MAAM6E,WAAW,GAAG3E,MAAM,CAACgD,QAAQ,CAAC;;EAEpC;EACAjD,SAAS,CAAC,MAAM;IACd,IAAI6E,OAAO,GAAG,IAAI;IAClB,MAAMC,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC1B,kBAAkB,CAAC,IAAI,CAAC;MACxB,IAAI;QACF,MAAM2B,GAAG,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB,IAAI,uBAAuB,WAAW;QACtF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACL,GAAG,CAAC;QAC5B,IAAI,CAACI,GAAG,CAACE,EAAE,EAAE;UACXC,OAAO,CAACC,IAAI,CAAC,wBAAwB,EAAEJ,GAAG,CAACK,MAAM,CAAC;UAClD;QACF;QACA,MAAMC,IAAI,GAAG,MAAMN,GAAG,CAACO,IAAI,CAAC,CAAC;QAC7B,MAAMC,IAAI,GAAG,CAAAF,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAExC,QAAQ,KAAIwC,IAAI,IAAI,EAAE;QACzC,IAAIZ,OAAO,EAAE;UACX3B,WAAW,CAACyC,IAAI,CAAC;UACjBf,WAAW,CAACgB,OAAO,GAAGD,IAAI;UAC1B,IAAI,CAACtC,iBAAiB,IAAIsC,IAAI,CAACE,MAAM,GAAG,CAAC,EAAE;YACzCvC,oBAAoB,CAACqC,IAAI,CAAC,CAAC,CAAC,CAACpC,GAAG,IAAIoC,IAAI,CAAC,CAAC,CAAC,CAACnC,EAAE,CAAC;UACjD;QACF;MACF,CAAC,CAAC,OAAOsC,GAAG,EAAE;QACZR,OAAO,CAACS,KAAK,CAAC,yBAAyB,EAAED,GAAG,CAAC;QAC7C;MACF,CAAC,SAAS;QACR,IAAIjB,OAAO,EAAEzB,kBAAkB,CAAC,KAAK,CAAC;MACxC;IACF,CAAC;IACD0B,aAAa,CAAC,CAAC;IACf,OAAO,MAAM;MAAED,OAAO,GAAG,KAAK;IAAE,CAAC;IACjC;EACF,CAAC,EAAE,CAACnC,OAAO,CAAC,CAAC;EAEb1C,SAAS,CAAC,MAAM;IACd;IACA,IAAI,CAACgD,SAAS,IAAIA,SAAS,CAACwC,MAAM,KAAK,QAAQ,EAAE;MAC/CzC,QAAQ,CAAC,YAAY,CAAC;IACxB;EACF,CAAC,EAAE,CAACC,SAAS,EAAED,QAAQ,CAAC,CAAC;;EAEzB;EACA/C,SAAS,CAAC,MAAM;IAAA,IAAAgG,qBAAA;IACd,MAAMnC,QAAQ,IAAAmC,qBAAA,GAAGjE,eAAe,CAACkE,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,KAAK,KAAK1C,QAAQ,CAAC,cAAAuC,qBAAA,uBAA/CA,qBAAA,CAAiDnC,QAAQ;IAC1E;IACA,IAAI,CAACF,IAAI,IAAI5B,eAAe,CAACqE,IAAI,CAACF,CAAC,IAAIA,CAAC,CAACrC,QAAQ,KAAKF,IAAI,CAAC,EAAE;MAC3DC,OAAO,CAACC,QAAQ,IAAI,EAAE,CAAC;IACzB;IACA;EACF,CAAC,EAAE,CAACJ,QAAQ,CAAC,CAAC;EAEd,MAAM4C,YAAY,GAAGA,CAAA,KAAM;IACzB5B,cAAc,CAAC,IAAI,CAAC;IACpBE,kBAAkB,CAAC,IAAI,CAAC;EAC1B,CAAC;EAED,MAAM2B,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5BjC,YAAY,CAAC,IAAI,CAAC;IAClBJ,YAAY,CAAC,YAAY,CAAC;IAC1B,IAAI;MACF,MAAMkB,GAAG,GAAG,MAAMtC,OAAO,CAACc,IAAI,EAAEF,QAAQ,EAAEK,WAAW,CAAC;MACtD,IAAIqB,GAAG,IAAIA,GAAG,CAACoB,OAAO,EAAE;QAAA,IAAAC,kBAAA;QACtBvC,YAAY,CAACkB,GAAG,CAACsB,MAAM,IAAI,WAAW,CAAC;QACvC/E,KAAK,CAAC;UACJgF,KAAK,EAAE,cAAc;UACrBC,WAAW,EAAE,oBAAAH,kBAAA,GAAmBrB,GAAG,CAACyB,aAAa,cAAAJ,kBAAA,cAAAA,kBAAA,GAAI,KAAK;QAC5D,CAAC,CAAC;MACJ,CAAC,MAAM;QACLvC,YAAY,CAAC,CAAAkB,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEsB,MAAM,KAAI,kBAAkB,CAAC;MACjD;IACF,CAAC,CAAC,OAAOX,GAAG,EAAE;MACZR,OAAO,CAACS,KAAK,CAAC,WAAW,EAAED,GAAG,CAAC;MAC/B7B,YAAY,CAAC,SAAS,IAAI6B,GAAG,CAACe,OAAO,IAAIf,GAAG,CAAC,CAAC;MAC9CpE,KAAK,CAAC;QAAEgF,KAAK,EAAE,WAAW;QAAEC,WAAW,EAAGb,GAAG,CAACe,OAAO,IAAI,aAAc;QAAEC,OAAO,EAAE;MAAc,CAAC,CAAC;IACpG;IACAzC,YAAY,CAAC,KAAK,CAAC;EACrB,CAAC;EAED,MAAM0C,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI,EAACpE,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEa,EAAE,GAAE;MACb9B,KAAK,CAAC;QAAEgF,KAAK,EAAE,eAAe;QAAEC,WAAW,EAAE,wBAAwB;QAAEG,OAAO,EAAE;MAAc,CAAC,CAAC;MAChG;IACF;IACA,MAAME,cAAc,GAAI/D,QAAQ,IAAIA,QAAQ,CAAC4C,MAAM,GAC/C5C,QAAQ,CAACgD,IAAI,CAACgB,CAAC,IAAI,CAACA,CAAC,CAAC1D,GAAG,IAAI0D,CAAC,CAACzD,EAAE,MAAMH,iBAAiB,CAAC,IAAIJ,QAAQ,CAAC,CAAC,CAAC,GACxE,IAAI;IACR,IAAI,CAAC+D,cAAc,EAAE;MACnBtF,KAAK,CAAC;QAAEgF,KAAK,EAAE,qBAAqB;QAAEI,OAAO,EAAE;MAAc,CAAC,CAAC;MAC/D;IACF;IAEAvC,eAAe,CAAC,IAAI,CAAC;IACrB,IAAI;MACF,MAAM2C,MAAM,GAAG,MAAMpE,UAAU,CAACH,IAAI,CAACa,EAAE,EAAGwD,cAAc,CAACzD,GAAG,IAAIyD,cAAc,CAACxD,EAAE,EAAGG,IAAI,EAAEF,QAAQ,EAAEf,OAAO,CAAC;MAC5G,IAAI,CAACwE,MAAM,IAAI,CAACA,MAAM,CAACX,OAAO,EAAE;QAC9B,MAAM,IAAIY,KAAK,CAAC,CAAAD,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEL,OAAO,KAAI,mBAAmB,CAAC;MACzD;;MAEA;MACA,MAAMO,cAAc,GAAG,GAAGpC,OAAO,CAACC,GAAG,CAACC,qBAAqB,IAAI,uBAAuB,gBAAgBvC,IAAI,CAACa,EAAE,EAAE;MAC/G,MAAM6D,IAAI,GAAG,MAAMjC,KAAK,CAACgC,cAAc,CAAC;MACxC,MAAME,IAAI,GAAGD,IAAI,CAAChC,EAAE,GAAG,MAAMgC,IAAI,CAAC3B,IAAI,CAAC,CAAC,GAAG,EAAE;MAC7C,MAAM6B,MAAM,GAAGC,KAAK,CAACC,OAAO,CAACH,IAAI,CAAC,GAAGA,IAAI,CAAC,CAAC,CAAC,GAAIA,IAAI,IAAI,IAAK;MAC7D,MAAMI,OAAO,GAAG,CAAAH,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEG,OAAO,MAAIH,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAErD,eAAe,KAAI,EAAE;MAChEC,kBAAkB,CAACuD,OAAO,CAAC;MAC3B,MAAMC,MAAM,GAAGD,OAAO,CAACE,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACF,MAAM,CAAC,CAAC9B,MAAM;MACnDnE,KAAK,CAAC;QAAEgF,KAAK,EAAE,qBAAqB;QAAEC,WAAW,EAAE,UAAUgB,MAAM,IAAID,OAAO,CAAC7B,MAAM;MAAG,CAAC,CAAC;IAC5F,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZR,OAAO,CAACS,KAAK,CAAC,cAAc,EAAED,GAAG,CAAC;MAClCpE,KAAK,CAAC;QAAEgF,KAAK,EAAE,eAAe;QAAEC,WAAW,EAAGb,GAAG,CAACe,OAAO,IAAI,aAAc;QAAEC,OAAO,EAAE;MAAc,CAAC,CAAC;IACxG;IACAvC,eAAe,CAAC,KAAK,CAAC;EACxB,CAAC;EAED,IAAI,CAACvB,SAAS,IAAK,CAACK,iBAAiB,IAAI,CAACF,eAAgB,EAAE;IAC1D,oBACElB,OAAA;MAAK6F,SAAS,EAAC,+CAA+C;MAAAC,QAAA,eAC5D9F,OAAA;QAAK6F,SAAS,EAAC;MAAgE;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/E,CAAC;EAEV;EAEA,MAAMnB,cAAc,GAAI/D,QAAQ,IAAIA,QAAQ,CAAC4C,MAAM,GAC/C5C,QAAQ,CAACgD,IAAI,CAACgB,CAAC,IAAI,CAACA,CAAC,CAAC1D,GAAG,IAAI0D,CAAC,CAACzD,EAAE,MAAMH,iBAAiB,CAAC,IAAIJ,QAAQ,CAAC,CAAC,CAAC,GACxE,IAAI;EAER,oBACEhB,OAAA;IAAK6F,SAAS,EAAC,mDAAmD;IAAAC,QAAA,gBAChE9F,OAAA;MAAK6F,SAAS,EAAC,yEAAyE;MAAAC,QAAA,gBACtF9F,OAAA;QAAK6F,SAAS,EAAC,6BAA6B;QAAAC,QAAA,gBAC1C9F,OAAA,CAACN,KAAK;UAACmG,SAAS,EAAC;QAAuB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC3ClG,OAAA;UAAA8F,QAAA,gBACE9F,OAAA;YAAI6F,SAAS,EAAC,mBAAmB;YAAAC,QAAA,EAAE,CAAA/E,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEoF,IAAI,KAAI;UAAO;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACnElG,OAAA;YAAG6F,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EAAE,CAAApF,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEyF,IAAI,KAAI;UAAO;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7D,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENlG,OAAA;QAAK6F,SAAS,EAAC,6BAA6B;QAAAC,QAAA,gBAC1C9F,OAAA,CAACzB,KAAK;UAAC6H,SAAS,EAAErF,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEqF,SAAU;UAACC,QAAQ,EAAEtF,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEsF,QAAS;UAACC,QAAQ,EAAElC;QAAa;UAAA2B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACjGlG,OAAA,CAACxB,MAAM;UAAC+H,OAAO,EAAEzB,YAAa;UAAC0B,QAAQ,EAAEnE,YAAY,IAAIE,WAAY;UAACsD,SAAS,EAAC,iCAAiC;UAAAC,QAAA,gBAC/G9F,OAAA,CAACJ,IAAI;YAACiG,SAAS,EAAC;UAAc;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EAAC7D,YAAY,GAAG,eAAe,GAAG,QAAQ;QAAA;UAAA0D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrE,CAAC,eACTlG,OAAA,CAACxB,MAAM;UAACqG,OAAO,EAAC,SAAS;UAAC0B,OAAO,EAAEA,CAAA,KAAMzF,QAAQ,CAAC,YAAY,CAAE;UAAAgF,QAAA,EAAC;QAAI;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3E,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENlG,OAAA;MAAK6F,SAAS,EAAC,6BAA6B;MAAAC,QAAA,gBAC1C9F,OAAA;QAAK6F,SAAS,EAAC,uCAAuC;QAAAC,QAAA,gBACpD9F,OAAA;UAAK6F,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3B9F,OAAA;YAAI6F,SAAS,EAAC,0CAA0C;YAAAC,QAAA,EAAC;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACtElG,OAAA;YAAK6F,SAAS,EAAC,WAAW;YAAAC,QAAA,EACvB5E,eAAe,gBACdlB,OAAA;cAAK6F,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAC;YAAmB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,GAC9DlF,QAAQ,IAAIA,QAAQ,CAAC4C,MAAM,GAC7B5C,QAAQ,CAACyF,GAAG,CAAC,CAACC,OAAO,EAAEC,GAAG,kBACxB3G,OAAA;cACEuG,OAAO,EAAEA,CAAA,KAAMlF,oBAAoB,CAACqF,OAAO,CAACpF,GAAG,IAAIoF,OAAO,CAACnF,EAAE,CAAE;cAC/DsE,SAAS,EAAE,qDACRd,cAAc,IAAI,CAACA,cAAc,CAACzD,GAAG,IAAIyD,cAAc,CAACxD,EAAE,OAAOmF,OAAO,CAACpF,GAAG,IAAIoF,OAAO,CAACnF,EAAE,CAAC,GACxF,oCAAoC,GAAG,8BAA8B,EAAG;cAAAuE,QAAA,eAC9E9F,OAAA;gBAAK6F,SAAS,EAAC,mCAAmC;gBAAAC,QAAA,gBAChD9F,OAAA;kBAAM6F,SAAS,EAAC,qBAAqB;kBAAAC,QAAA,GAAEa,GAAG,GAAG,CAAC,EAAC,IAAE,EAACD,OAAO,CAACjC,KAAK;gBAAA;kBAAAsB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACvElG,OAAA,CAAChB,KAAK;kBAAC6F,OAAO,EAAE6B,OAAO,CAACE,UAAU,IAAIF,OAAO,CAACE,UAAU,CAACC,WAAW,CAAC,CAAC,KAAK,MAAM,GAAG,SAAS,GAAG,WAAY;kBAAAf,QAAA,EACzGY,OAAO,CAACE,UAAU,IAAI;gBAAM;kBAAAb,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACxB,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL;YAAC,GAVKQ,OAAO,CAACpF,GAAG,IAAIoF,OAAO,CAACnF,EAAE,IAAIoF,GAAG;cAAAZ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAWrC,CACT,CAAC,gBACAlG,OAAA;cAAK6F,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAC;YAAkB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENlG,OAAA,CAACjB,UAAU;UAAC8G,SAAS,EAAC,YAAY;UAAAC,QAAA,eAChC9F,OAAA;YAAK6F,SAAS,EAAC,2BAA2B;YAAAC,QAAA,EACvCf,cAAc,gBACb/E,OAAA,CAAAE,SAAA;cAAA4F,QAAA,gBACE9F,OAAA;gBAAI6F,SAAS,EAAC,wBAAwB;gBAAAC,QAAA,EAAEf,cAAc,CAACN;cAAK;gBAAAsB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAClElG,OAAA,CAAChB,KAAK;gBAAC6G,SAAS,EAAC,MAAM;gBAAAC,QAAA,EAAEf,cAAc,CAAC6B,UAAU,IAAI;cAAM;gBAAAb,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACrElG,OAAA;gBAAK6F,SAAS,EAAC,2CAA2C;gBAAAC,QAAA,EAAEf,cAAc,CAACL;cAAW;gBAAAqB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA,eAC7F,CAAC,gBACDlG,OAAA;cAAK6F,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAC;YAAiC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/E;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CAAC,eAENlG,OAAA;QAAK6F,SAAS,EAAC,kCAAkC;QAAAC,QAAA,gBAC/C9F,OAAA;UAAK6F,SAAS,EAAC,kFAAkF;UAAAC,QAAA,gBAC/F9F,OAAA;YAAK6F,SAAS,EAAC,6BAA6B;YAAAC,QAAA,gBAC1C9F,OAAA;cAAM6F,SAAS,EAAC,gCAAgC;cAAAC,QAAA,EAAC;YAAW;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACnElG,OAAA,CAACvB,MAAM;cAACyF,KAAK,EAAE1C,QAAS;cAACsF,aAAa,EAAErF,WAAY;cAAC+E,QAAQ,EAAEjE,WAAY;cAAAuD,QAAA,gBACzE9F,OAAA,CAACpB,aAAa;gBAACiH,SAAS,EAAC,6CAA6C;gBAAAC,QAAA,eACpE9F,OAAA,CAACnB,WAAW;kBAAAkH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACF,CAAC,eAChBlG,OAAA,CAACtB,aAAa;gBAAAoH,QAAA,EACXhG,eAAe,CAAC2G,GAAG,CAACM,IAAI,iBAAI/G,OAAA,CAACrB,UAAU;kBAAkBuF,KAAK,EAAE6C,IAAI,CAAC7C,KAAM;kBAAA4B,QAAA,EAAEiB,IAAI,CAACC;gBAAK,GAA1CD,IAAI,CAAC7C,KAAK;kBAAA6B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAA6C,CAAC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1F,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACV,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,EACL3D,WAAW,iBAAIvC,OAAA,CAAChB,KAAK;YAAC6F,OAAO,EAAC,aAAa;YAACgB,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAAC9F,OAAA,CAACH,WAAW;cAACgG,SAAS,EAAC;YAAc;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,gBAAY;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChI,CAAC,eAENlG,OAAA;UAAK6F,SAAS,EAAC,QAAQ;UAAAC,QAAA,eACrB9F,OAAA,CAAC3B,UAAU;YAAC6F,KAAK,EAAExC,IAAK;YAACuF,QAAQ,EAAEtF,OAAQ;YAACH,QAAQ,EAAEA,QAAS;YAAC0F,QAAQ,EAAE3E;UAAY;YAAAwD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtF,CAAC,eAENlG,OAAA;UAAK6F,SAAS,EAAC,0BAA0B;UAAAC,QAAA,eACvC9F,OAAA;YAAK6F,SAAS,EAAC,4BAA4B;YAAAC,QAAA,gBACzC9F,OAAA;cAAK6F,SAAS,EAAC,QAAQ;cAAAC,QAAA,gBACrB9F,OAAA;gBAAO6F,SAAS,EAAC,kCAAkC;gBAAAC,QAAA,EAAC;cAAY;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACxElG,OAAA,CAAClB,QAAQ;gBAACoF,KAAK,EAAErC,WAAY;gBAACoF,QAAQ,EAAGE,CAAC,IAAKrF,cAAc,CAACqF,CAAC,CAACC,MAAM,CAAClD,KAAK,CAAE;gBAACmD,WAAW,EAAC,4BAA4B;gBAACxB,SAAS,EAAC,+DAA+D;gBAACW,QAAQ,EAAEjE;cAAY;gBAAAwD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxN,CAAC,eACNlG,OAAA;cAAK6F,SAAS,EAAC,QAAQ;cAAAC,QAAA,gBACrB9F,OAAA;gBAAO6F,SAAS,EAAC,kCAAkC;gBAAAC,QAAA,EAAC;cAAM;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAClElG,OAAA;gBAAK6F,SAAS,EAAC,gGAAgG;gBAAAC,QAAA,EAAE/D,SAAS,IAAI;cAAyB;gBAAAgE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3J,CAAC,eACNlG,OAAA,CAACxB,MAAM;cAAC+H,OAAO,EAAElC,SAAU;cAACmC,QAAQ,EAAErE,SAAS,IAAII,WAAY;cAACsC,OAAO,EAAC,WAAW;cAACgB,SAAS,EAAC,MAAM;cAAAC,QAAA,gBAClG9F,OAAA,CAACL,IAAI;gBAACkG,SAAS,EAAC;cAAc;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,EAAC/D,SAAS,GAAG,YAAY,GAAG,KAAK;YAAA;cAAA4D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5D,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENlG,OAAA;QAAK6F,SAAS,EAAC,uCAAuC;QAAAC,QAAA,eACpD9F,OAAA,CAACf,IAAI;UAACqI,YAAY,EAAC,WAAW;UAACzB,SAAS,EAAC,sBAAsB;UAAAC,QAAA,gBAC7D9F,OAAA,CAACb,QAAQ;YAAC0G,SAAS,EAAC,8BAA8B;YAAAC,QAAA,eAChD9F,OAAA,CAACZ,WAAW;cAAC8E,KAAK,EAAC,WAAW;cAAC2B,SAAS,EAAC,QAAQ;cAAAC,QAAA,EAAC;YAAgB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAa;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxE,CAAC,eACXlG,OAAA,CAACd,WAAW;YAACgF,KAAK,EAAC,WAAW;YAAC2B,SAAS,EAAC,gBAAgB;YAAAC,QAAA,eACvD9F,OAAA,CAAC1B,eAAe;cAACmH,OAAO,EAAExD;YAAgB;cAAA8D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENlG,OAAA,CAACX,MAAM;MAACkI,IAAI,EAAE9E,eAAgB;MAAC+E,YAAY,EAAE9E,kBAAmB;MAAAoD,QAAA,eAC9D9F,OAAA,CAACV,aAAa;QAAAwG,QAAA,gBACZ9F,OAAA,CAACT,YAAY;UAAAuG,QAAA,gBACX9F,OAAA,CAACR,WAAW;YAACqG,SAAS,EAAC,0CAA0C;YAAAC,QAAA,EAAC;UAAU;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAa,CAAC,eAC1FlG,OAAA;YAAK6F,SAAS,EAAC,MAAM;YAAAC,QAAA,EAAC;UAA6E;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7F,CAAC,eACflG,OAAA;UAAK6F,SAAS,EAAC,gCAAgC;UAAAC,QAAA,gBAC7C9F,OAAA,CAACxB,MAAM;YAACqG,OAAO,EAAC,SAAS;YAAC0B,OAAO,EAAEA,CAAA,KAAMzF,QAAQ,CAAC,YAAY,CAAE;YAAAgF,QAAA,EAAC;UAAe;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACzFlG,OAAA,CAACxB,MAAM;YAAC+H,OAAO,EAAEA,CAAA,KAAM7D,kBAAkB,CAAC,KAAK,CAAE;YAAAoD,QAAA,EAAC;UAAW;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACO;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV,CAAC;AAAC9F,EAAA,CA/QID,UAAU;EAAA,QACMlC,SAAS,EACZE,OAAO,EACsBC,UAAU,EACvCF,WAAW;AAAA;AAAAuJ,EAAA,GAJxBtH,UAAU;AAiRhB,eAAeA,UAAU;AAAC,IAAAsH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}